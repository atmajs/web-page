function __eval(e,t){"use strict";return t&&t.route.params,eval.call(window,e)}(function(e,t){"use strict";var n,r,o;"undefined"==typeof exports||e!==exports&&null!=e||(n=r=global),null==n&&(n="undefined"==typeof window?global:window),null==r&&(r=e||n),o=n.document,t(n,r,o)})(this,function(global,exports,document){"use strict";function fn_proxy(e,t){return function(){e.apply(t,arguments)}}function fn_doNothing(e){"function"==typeof e&&e()}function obj_inherit(e){"function"==typeof e&&(e=e.prototype);for(var t,n,r=1,o=arguments.length;o>r;r++){t="function"==typeof arguments[r]?arguments[r].prototype:arguments[r];for(n in t)e[n]=t[n]}return e}function arr_invoke(e,t,n){if(null!=e&&e instanceof Array!=!1)for(var r=0,o=e.length;o>r;r++)"function"==typeof e[r]&&(null==t?e[r].call(n):e[r].apply(n,t))}function arr_ensure(e,t){if(!t)return e;for(var n,r=t.split("."),o=r.length-1,i=0;o>i;i++)n=r[i],e=e[n]||(e[n]={});return n=r[o],e[n]||(e[n]=[])}function path_getDir(e){var t=e.lastIndexOf("/");return-1===t?"":e.substring(t+1,-t)}function path_resolveCurrent(){if(null==document)return"undefined"==typeof module?"":path_win32Normalize(module.parent.filename);var e=document.getElementsByTagName("script"),t=e[e.length-1],n=t&&t.getAttribute("src")||"";if("/"===n[0])return n;var r=window.location.pathname.replace(/\/[^\/]+\.\w+$/,"");return"/"!==r[r.length-1]&&(r+="/"),r+n}function path_win32Normalize(e){return e=e.replace(/\\/g,"/"),"file:"===e.substring(0,5)?e:"file:///"+e}function path_resolveUrl(e,t){switch(cfg.path&&"/"===e[0]&&(e=cfg.path+e.substring(1)),e.substring(0,5)){case"file:":case"http:":return e}for("./"===e.substring(0,2)&&(e=e.substring(2)),"/"===e[0]?(isWeb===!1||cfg.lockedToFolder===!0)&&(e=e.substring(1)):null!=t&&null!=t.location&&(e=t.location+e);-1!==e.indexOf("../");)e=e.replace(reg_subFolder,"");return e}function path_isRelative(e){var t=e.charCodeAt(0);switch(t){case 47:return!1;case 102:case 104:return/^file:|https?:/.test(e)===!1}return!0}function path_getExtension(e){var t=e.indexOf("?");return-1===t?e.substring(e.lastIndexOf(".")+1):e.substring(e.lastIndexOf(".",t)+1,t)}var bin={},isWeb=!!(global.location&&global.location.protocol&&/^https?:/.test(global.location.protocol)),reg_subFolder=/([^\/]+\/)?\.\.\//,cfg={path:null,loader:null,version:null,lockedToFolder:null,sync:null,eval:null==document},handler={},hasOwnProp={}.hasOwnProperty,emptyResponse={load:{}},__array_slice=Array.prototype.slice,XMLHttpRequest=global.XMLHttpRequest,Helper={reportError:function(e){console.error("IncludeJS Error:",e,e.message,e.url),"function"==typeof handler.onerror&&handler.onerror(e)}},XHR=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&t&&t(e,n.responseText)},n.open("GET","object"==typeof e?e.url:e,!0),n.send()},RoutesLib=function(){var e={},t=/([^\\\/]+)\.\w+$/;return{register:function(t,n,r){if("string"==typeof n&&path_isRelative(n)){var o=r||include,i=o.location||path_getDir(o.url||path_resolveCurrent());path_isRelative(i)&&(i="/"+i),n=i+n}e[t]=n instanceof Array?n:n.split(/[\{\}]/g)},resolve:function(t,n){var r,o,i,a,s,l,u,c,f=n.indexOf("?"),d=n.indexOf("::");if(-1!==d&&(r=n.substring(d+2),n=n.substring(0,d)),-1!==f){for(c=n.substring(f+1).split("&"),i={},s=0,u=c.length;u>s;s++)l=c[s].split("="),i[l[0]]=l[1];n=n.substring(0,f)}if(n=n.split("/"),a=e[t],null==a)return{path:n.join("/"),params:i,alias:r};for(o=a[0],s=1;a.length>s;s++)if(0===s%2)o+=a[s];else{var h=a[s]<<0;if(h>n.length-1&&(h=n.length-1),o+=n[h],s===a.length-2)for(h++;n.length>h;h++)o+="/"+n[h]}return{path:o,params:i,alias:r}},each:function(e,t,n,r,o){var i;if(null!=t)if("lazy"!==e||null!=o)if(t instanceof Array)for(var a=0;t.length>a;a++)this.each(e,t[a],n,r,o);else if("object"!=typeof t){if("string"==typeof t){var s=this.resolve(r,t);return r&&(r+="."+t),n(r,s,o),void 0}console.error("Include Package is invalid",arguments)}else for(i in t)hasOwnProp.call(t,i)&&this.each(e,t[i],n,i,o);else for(i in t)this.each(e,t[i],n,null,i)},getRoutes:function(){return e},parseAlias:function(e){var n=e.path,r=t.exec(n);return r&&r[1]}}},Routes=RoutesLib(),Events=function(e){function t(){Events.ready=fn_doNothing,null!=n&&(arr_invoke(n),n=null)}if(null==e)return{ready:fn_doNothing,load:fn_doNothing};var n=[];return"onreadystatechange"in e?e.onreadystatechange=function(){/complete|interactive/g.test(e.readyState)!==!1&&t()}:e.addEventListener?e.addEventListener("DOMContentLoaded",t):window.onload=t,{ready:function(e){n.unshift(e)}}}(document),ScriptStack=function(){function e(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,"onreadystatechange"in n?n.onreadystatechange=function(){("complete"===this.readyState||"loaded"===this.readyState)&&t()}:n.onload=n.onerror=t,(o||(o=document.getElementsByTagName("head")[0])).appendChild(n)}function t(){function n(e){e&&"error"===e.type&&console.log("Script Loaded Error",o.url);for(var n=0,r=s.length;r>n;n++)if(s[n]===o){s.splice(n,1);break}return n===r?(console.error("Loaded Resource not found in stack",o),void 0):(o.readystatechanged(3),i=null,t(),void 0)}if(!a){if(0===s.length)return r(),void 0;if(null==i){var o=i=s[0];if(1!==o.state)return o.state=1,global.include=o,global.iparams=o.route.params,o.source?(__eval(o.source,o),n(),void 0):(e(o.url,n),void 0)}}}function n(){if(!a){if(0===s.length)return r(),void 0;if(null==i){var e=s[0];if(!(2>e.state)){i=e,e.state=1,global.include=e,__eval(e.source,e);for(var t,o=0,l=s.length;l>o;o++)if(t=s[o],t===e){s.splice(o,1);break}e.readystatechanged(3),i=null,n()}}}}function r(){for(var e=-1,t=l.length;t>++e;)l[e]();l.length=0}var o,i,a,s=[],l=[];return{load:function(e,r,o){var i=!1;if(r)for(var a=0,l=s.length;l>a;a++)if(s[a]===r){s.splice(a,0,e),i=!0;break}return i||s.push(e),!cfg.eval||o?(t(),void 0):e.source?(e.state=2,n(),void 0):(XHR(e,function(e,t){t||console.error("Not Loaded:",e.url),e.source=t,e.state=2,n()}),void 0)},moveToParent:function(e,t){var n,r=s.length,o=-1,i=-1;for(n=0;r>n;n++)if(s[n]===e){i=n;break}if(-1!==i){for(n=0;r>n;n++)if(s[n]===t){o=n;break}-1!==o&&(o>i||(s.splice(i,1),s.splice(o,0,e)))}},pause:function(){a=!0},resume:function(){if(a=!1,null==i){var e=cfg.eval?n:t;e()}},complete:function(e){return a===!1&&0===s.length?(e(),void 0):(l.push(e),void 0)}}}(),IncludeDeferred=function(){this.callbacks=[],this.state=-1};IncludeDeferred.prototype={on:function(e,t,n){if(this===n&&-1===this.state)return t(this),this;var r=3>this.state||this===n?"unshift":"push";return this.state>=e?t(this):this.callbacks[r]({state:e,callback:t}),this},readystatechanged:function(e){var t,n,r,o;if(e>this.state&&(this.state=e),3===this.state){var i=this.includes;if(null!=i&&i.length)for(t=0;i.length>t;t++)if(4!==i[t].resource.state)return;this.state=4}if(t=0,n=this.callbacks.length,0!==n){for("js"===this.type&&4===this.state&&(o=global.include,global.include=this);n>t&&(r=this.callbacks[t],null==r||r.state>this.state||(this.callbacks.splice(t,1),n--,t--,r.callback(this),!(4>this.state)));t++);null!=o&&(global.include=o)}},ready:function(e){var t=this;return this.on(4,function(){Events.ready(function(){t.resolve(e)})},this)},done:function(e){var t=this;return this.on(4,function(){t.resolve(e)},this)},resolve:function(e){var t=this.includes,n=null==t?0:t.length;if(n>0&&null==this.response){this.response={};for(var r,o,i,a=0;n>a;a++)if(i=t[a],r=i.resource,o=i.route,void 0!==r.exports){var s=r.type;switch(s){case"js":case"load":case"ajax":var l=o.alias||Routes.parseAlias(o),u="js"===s?this.response:this.response[s]||(this.response[s]={});if(l){u[l]=r.exports;break}console.warn("Resource Alias is Not defined",r)}}}e(this.response||emptyResponse)}};var Include=function(IncludeDeferred){function Include(){IncludeDeferred.call(this)}function embedPlugin(source){eval(source)}function enableModules(){return Object.defineProperty===void 0?(console.warn("Browser do not support Object.defineProperty"),void 0):(Object.defineProperty(global,"module",{get:function(){return global.include}}),Object.defineProperty(global,"exports",{get:function(){var e=global.include;return e.exports||(e.exports={})},set:function(e){global.include.exports=e}}),void 0)}function includePackage(e,t,n){var r=1===n.length?n[0]:__array_slice.call(n);return e instanceof Resource?e.include(t,r):new Resource("js").include(t,r)}function createIncluder(e){return function(){return includePackage(this,e,arguments)}}function doNothing(){return this}function stub_freeze(e){e.js=e.css=e.load=e.ajax=e.embed=e.lazy=e.inject=doNothing}function stub_release(e){for(var t=["js","css","load","ajax","embed","lazy"],n=t.length;-1!==--n;)e[t[n]]=createIncluder(t[n]);e.inject=e.js}return stub_release(Include.prototype),obj_inherit(Include,IncludeDeferred,{setCurrent:function(e){var t=new Resource("js",{path:e.id},e.namespace,null,null,e.id);4!==t.state&&console.error("<include> Resource should be loaded",e),t.state=3,global.include=t},cfg:function(e){switch(typeof e){case"object":var t,n;for(t in e)switch(n=e[t],t){case"loader":for(var r in n)CustomLoader.register(r,n[r]);break;case"modules":n===!0&&enableModules();break;default:cfg[t]=n}break;case"string":if(1===arguments.length)return cfg[e];2===arguments.length&&(cfg[e]=arguments[1]);break;case"undefined":return cfg}return this},routes:function(e){if(null==e)return Routes.getRoutes();if(2===arguments.length)return Routes.register(e,arguments[1]),this;for(var t in e)Routes.register(t,e[t]);return this},promise:function(e){for(var t=e.split("."),n=global;t.length;){var r=t.shift();n=n[r]||(n[r]={})}return n},register:function(e){for(var t in e)for(var n=0;e[t].length>n;n++){var r=e[t][n].id,o=e[t][n].url,i=e[t][n].namespace,a=new Resource;switch(o&&("/"===o[0]&&(o=o.substring(1)),a.location=path_getDir(o)),a.state=4,a.namespace=i,a.type=t,a.url=o||r,t){case"load":case"lazy":var s=document.querySelector("#includejs-"+r.replace(/\W/g,""));if(null==s){console.error('"%s" Data was not embedded into html',r);break}a.exports=s.innerHTML,CustomLoader.exists(a)&&(a.state=3,CustomLoader.load(a,function(e,t){e.exports=t,e.readystatechanged(4)}))}(bin[t]||(bin[t]={}))[r]=a}},instance:function(e){var t;return null==e?(t=new Include,t.state=4,t):(t=new Resource,t.state=4,t.location=path_getDir(e),t)},getResource:function(e,t){var n=e;if(47!==e.charCodeAt(0)&&(n="/"+n),null!=t)return bin[t][n];for(var r in bin)if(bin[r].hasOwnProperty(n))return bin[r][n];return null},getResources:function(){return bin},plugin:function(e,t){var n=[],r=0,o=0,i=0,a=function(e,n){o++,embedPlugin(n),o===r-1&&t&&(t(),t=null)};for(Routes.each("",e,function(e,t){n.push("/"===t.path[0]?t.path.substring(1):t.path)}),r=n.length;r>i;i++)XHR(n[i],a);return this},client:function(){return cfg.server===!0&&stub_freeze(this),this},server:function(){return cfg.server!==!0&&stub_freeze(this),this},pauseStack:ScriptStack.pause,resumeStack:ScriptStack.resume,allDone:ScriptStack.complete}),Include}(IncludeDeferred),CustomLoader=function(){function e(e){return"string"==typeof e?!1:"function"==typeof e.ready||"function"==typeof e.process}function t(t){var n=path_getExtension(t),r=cfg.loader[n];if(e(r))return r;var o,i=r;if("object"==typeof i)for(var a in i){o=a,i=i[a];break}return cfg.loader[n]=new Resource("js",Routes.resolve(o,i),o)}function n(e,t){return function(n){e(t,n)}}function r(e,t,r,o){var i=n(o,t),a=r.process(e,t,i);a!==void 0&&o(t,a)}function o(e,t,n){return"string"==typeof e.exports?(r(e.exports,e,t,n),void 0):(XHR(e,function(e,o){r(o,e,t,n)}),void 0)}var i={process:function(e){try{return JSON.parse(e)}catch(t){return console.error(t,e),null}}};return cfg.loader={json:i},{load:function(e,n){var r=t(e.url);return r.process?(o(e,r,n),void 0):(r.done(function(){o(e,r.exports,n)}),void 0)},exists:function(e){if(!e.url)return!1;var t=path_getExtension(e.url);return cfg.loader.hasOwnProperty(t)},register:function(e,t){if("string"==typeof t){var n=include;null==n.location&&(n={location:path_getDir(path_resolveCurrent())}),t=path_resolveUrl(t,n)}cfg.loader[e]=t}}}(),LazyModule={create:function(e,t){for(var n=e.split("."),r=global,o=n[n.length-1];n.length>1;){var i=n.shift();r=r[i]||(r[i]={})}n=null,Object.defineProperty(r,o,{get:function(){delete r[o];try{var n=__eval(t,global.include);null==n||n instanceof Resource||(r[o]=n)}catch(i){i.xpath=e,Helper.reportError(i)}finally{return t=null,e=null,r[o]}}})}},Resource=function(e,t,n,r){function o(e){var t=e.type,o=e.parent,a=e.url;if(null==document&&"css"===t)return e.state=4,e;if(r.exists(e)===!1)switch(t){case"js":case"embed":n.load(e,o,"embed"===t);break;case"ajax":case"load":case"lazy":XHR(e,i);break;case"css":e.state=4;var s=document.createElement("link");s.href=a,s.rel="stylesheet",s.type="text/css",document.getElementsByTagName("head")[0].appendChild(s)}else r.load(e,i);return e}function i(e,t){switch(t||console.warn("Resource cannt be loaded",e.url),e.type){case"js":case"embed":return e.source=t,n.load(e,e.parent,"embed"===e.type),void 0;case"load":case"ajax":e.exports=t;break;case"lazy":LazyModule.create(e.xpath,t);break;case"css":var r=document.createElement("style");r.type="text/css",r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r)}e.readystatechanged(4)}function a(e,t,n){if(null==e)return null;null==n&&(n=[]);for(var r,o=0,i=e.length;i>o;o++)r=e[o].resource,t===r.type&&n.push(r),null!=r.includes&&a(r.includes,t,n);return n}var s=function(t,r,i,a,s,l){e.call(this),this.childLoaded=fn_proxy(this.childLoaded,this);var u=r&&r.path;null!=u&&(this.url=u=path_resolveUrl(u,s)),this.route=r,this.namespace=i,this.type=t,this.xpath=a,this.parent=s,null==l&&u&&(l=("/"===u[0]?"":"/")+u);var c=bin[t]&&bin[t][l];return c?(4>c.state&&"js"===t&&n.moveToParent(c,s),c):null==u?(this.state=3,this.location=path_getDir(path_resolveCurrent()),this):(this.state=0,this.location=path_getDir(u),(bin[t]||(bin[t]={}))[l]=this,cfg.version&&(this.url+=(-1===this.url.indexOf("?")?"?":"&")+"v="+cfg.version),o(this))};return s.prototype=obj_inherit(s,e,{childLoaded:function(){var e=this,t=e.includes;if(t&&t.length){if(3>e.state)return;for(var n=0;t.length>n;n++)if(4!==t[n].resource.state)return}e.readystatechanged(4)},create:function(e,t,n,r,o){var i;return this.state=this.state>=3?3:2,this.response=null,null==this.includes&&(this.includes=[]),i=new s(e,t,n,r,this,o),this.includes.push({resource:i,route:t}),i},include:function(e,n){var r=this;return t.each(e,n,function(t,n,o){(null==r.route||r.route.path!==n.path)&&r.create(e,n,t,o).on(4,r.childLoaded)}),this},getNestedOfType:function(e){return a(this.includes,e)}}),s}(Include,Routes,ScriptStack,CustomLoader);exports.include=new Include,exports.includeLib={Routes:RoutesLib,Resource:Resource,ScriptStack:ScriptStack,registerLoader:CustomLoader.register},function(){function e(e){return e=e.replace("file://","").replace(/\\/g,"/").replace(/\?[^\n]+$/,""),/^\/\w+:\/[^\/]/i.test(e)?e.substring(1):e}function t(e){return e.substring(0,e.lastIndexOf("/"))}function n(e){var t;return function(){t&&clearTimeout(t),t=setTimeout(function(){var t=o(r(e));t&&"object"==typeof cfg.autoreload&&cfg.autoreload.fileChanged(e)},150)}}function r(e){if(null!=e){var t,n,o,i,a="string"==typeof e,s=a?e:e.url;for(t in bin)for(n in bin[t])if(i=bin[t][n],a!==!1){if(o=n.indexOf(s),-1!==o&&o===n.length-s.length)return delete bin[t][n],"load"===t&&r(i.parent),i}else if(i===e)return delete bin[t][n],i;console.warn("<include:res:remove> Resource is not in cache",s)}}function o(e){if(null!=e){e.content=null,e.exports=null;var t=e.parent;return t.create(e.type,e.route,e.namespace,e.xpath).on(4,t.childLoaded)}}function i(e,t){var n=r(e);return null==n?(t&&t(),void 0):o(n).done(t)}cfg.server=!0;var a,s,l,u=require("vm"),c=(global.module||module).constructor;(function(){function e(e){null!=n[e]&&(n[e].close(),n[e]=null)}var t=require("fs"),n={};s=function(e,n){if(cfg.sync)try{var r=t.readFileSync(e,"utf8");n(null,r)}catch(o){console.error("File Read - ",o)}else t.readFile(e,"utf8",n)},l=function(r,o){e(r),n[r]=t.watch(r,o)}})(),XMLHttpRequest=function(){},XMLHttpRequest.prototype={constructor:XMLHttpRequest,open:function(e,t){this.url=t},send:function(){-1!==this.url.indexOf("file://")&&(this.url=e(this.url));var t=this;s(this.url,function(e,r){e&&(console.error(">>",e.code,e.path),r=""),t.readyState=4,t.responseText=r,t.onreadystatechange(),null==e&&cfg.autoreload&&l(t.url,n(t.url))})}},__eval=function(n,r,o){module.exports={},global.include=r,global.require=require,global.exports=module.exports,global.__filename=e(r.url),global.__dirname=t(global.__filename),global.module=module,o!==!0&&(n="(function(){ "+n+"\n}())");try{u.runInThisContext(n,global.__filename)}catch(i){console.error("Module Evaluation Error",r.url),console.error(i.stack)}if(null==r.exports){var a=module.exports;("object"!=typeof a||Object.keys(a).length)&&(r.exports=module.exports)}},obj_inherit(Resource,{bin_remove:r,bin_tryReload:i,path_getFile:function(){return e(this.url)},path_getDir:function(){return t(e(this.url))},inject:function(){var e=1===arguments.length?arguments[0]:__array_slice.call(arguments),t=this;t.state=t.state>=3?3:2;var n=t.create();return n.url=this.url,n.location=this.location,n.load(e).done(function(e){var r,o;e.load;try{for(var i=0;n.includes.length>i;i++){var o=n.includes[i].resource,a=o.exports;o.exports=null,o.type="js",o.includes=null,o.state=3;for(var r in bin.load)if(bin.load[r]===o){delete bin.load[r];break}__eval(a,o,!0),o.readystatechanged(3)}}catch(s){console.error("Injected Script Error\n",s,r)}n.on(4,function(){t.includes.splice.apply(t.includes,[n,1].concat(n.includes)),t.readystatechanged(3)})}),t},instance:function(n){if("string"==typeof n){var r=module,o=new c(n,r);if(o.filename=e(n),o.paths=c._nodeModulePaths(t(o.filename)),!u){var i="win32"===process.platform?";":":",s=process.env.PATH||process.env.path;s||console.error("PATH not defined in env",process.env);var l=s.split(i),u=ruqq.arr.first(l,function(e){return/([\\\/]npm[\\\/])|([\\\/]npm$)/gi.test(e)});u?(u=u.replace(/\\/g,"/"),u+=("/"!==u[u.length-1]?"/":"")+"node_modules",a=io.env.applicationDir.toLocalDir()+"node_modules"):(console.error("Could not resolve global NPM Directory from system path"),console.log("searched with pattern /npm in",s,i))}o.paths.unshift(a),o.paths.unshift(u),module=o,require=o.require.bind(o)}var f=new Resource;return f.state=4,f}}),obj_inherit(Include,{bin_tryReload:i,bin_remove:r})}()});